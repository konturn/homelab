# Set empty string defaults for variables from a missing Vault path (404).
# This prevents Jinja2 "undefined variable" errors in downstream templates.

- name: "Default empty values for missing path {{ _vault_missing.item.path }}"
  ansible.builtin.set_fact:
    "{{ item.key }}": ""
  loop: "{{ _vault_missing.item.fields | dict2items }}"
  loop_control:
    label: "{{ item.key }}"
  no_log: true
